<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>gmvault: gmail backup</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="backup and restore your gmail account">
    <meta name="author" content="guillaume aubert">

    <!-- Le styles -->
    <link href="./assets/css/bootstrap.css" rel="stylesheet">
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="assets/css/docs.css" rel="stylesheet">
    <link href="assets/js/google-code-prettify/prettify.css" rel="stylesheet">
    <style>
      body {
        /*padding-top: 60px;*/ /* was adding Gmvault and pushing it 60px to make the container go all the way to the bottom of the topbar */
      }
      /* to properly fix the positionning of internal reference when name id used*/
      a[name]{position:relative;top:-40px; visibility:collapsed;}
    </style>
    <link href="./assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="./assets/ico/gmv-favicon.ico">
    <!--<link rel="apple-touch-icon-precomposed" sizes="114x114" href="./assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="./assets/ico/apple-touch-icon-57-precomposed.png">-->
  </head>

  <body data-spy="scroll" data-target=".subnav" data-offset="50">

    <!-- Navbar
    ================================================== -->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="./index.html">Gmvault</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active">
               <a href="./index.html">Overview</a>
              </li>
              <li class="">
                <a href="#install">Install</a>
              </li>
              <li class="">
                <a href="#win_install">Win Install</a>
              </li>
              <li class="">
                <a href="#linmac_install">Lin/Mac Install</a>
              </li>
              <li class="">
                <a href="#py_install">Py Install</a>
              </li>
              <li class="">
                <a href="#quickstart">Quick Start</a>
              </li>
              <li class="">
                <a href="#faq">FAQs</a>
              </li>
              <li class="">
                <a href="./about.html">About</a>
              </li>
              <li class="">
                <a href="./contacts.html">Contacts</a>
              </li>
              <li class="divider-vertical"></li>
              <li class="">
                <a href="https://github.com/gaubert/gmvault/downloads">Download</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">

    <div class="page-header">
	  <a name="install"></a><h1>Install Gmvault</h1>
	</div>
  
      <div class="span10">
         <div class="page-header">
            <h2>Download Gmvault latest version</h2>
		 </div>
          <p>Go to the <a href="https://github.com/gaubert/gmvault/downloads">Download Page</a> to download the binary package for the platform of your choice. You can then refer to your platform (Win/Linux or Mac OSX) installation instructions to perform the Gmvault installation.

         <div class="page-header">
            <h2>Compliant Python versions</h2>
		 </div>
          <p>Gmvault has been heavily tested with <strong>Python 2.6.x</strong> and <strong>Python 2.7.x</strong> versions. Please use one of these versions to run Gmvault.</br>
             Note that for the Windows, Linux and MacOSX binary packages, the target machine doesn't need to have pre-installed a compliant Python distribution as these packages embed a working Python dist.</p>
         <a name="win_install"></a><div class="page-header">
            <h2>Windows Installation</h2>
		 </div>
           <p>Double click on <strong>gmvault_setup.exe</strong> to launch it. You should see the follow screens when installing:</p>
			 <ul class="thumbnails">
				<li class="span5">
				  <div class="thumbnail well">
				  <h5>1. Launch the gmvault_setup.exe windows installer.</h5>
				  <img src="./assets/img/gmvault_main_page.png" alt="">
				  </div>
				</li>
				<li class="span5">
				  <div class="thumbnail">
				  <h5>2. Accept the software licensing prior to install it on your PC.</h5>
				  <img src="./assets/img/gmvault_licence.png" alt="">
				  </div>
				</li>
			 </ul> 

			 <ul class="thumbnails">
				<li class="span5">
				  <div class="thumbnail">
				  <h5>3. Choose where to install Gmvault.</h5>
				  <img src="./assets/img/gmvault_dir.png" alt="">
				  </div>
				</li>
				<li class="span5">
				  <div class="thumbnail">
				  <h5>4. Agree on the creation of a Desktop shortcut for Gmvault (recommended).</h5>
				  <img src="./assets/img/gmvault_shortcuts.png" alt="">
				  </div>
				</li>
			 </ul> 

			 <p>The Gmvault installer should have installed a Gmvault-shell from where you can easily launch gmvault.exe.
				<br> Gmvault-shell can be launched via a Desktop shortcut.</p>
                         <p>Double click on the Desktop shortcut to launch the Gmvault-shell that will set all variables in order to easily operate Gmvault.</p>

                         <div class="span10 thumbnail well">
                            <img src="./assets/img/gmvault-shell-icon.png" alt="">
                         </div>

                         <p>Type gmvault -h to start using Gmvault.</p>


                         <div class="span10 thumbnail">
                            <img src="./assets/img/gmvault-shell-window.png" alt="">
                         </div>

                         <p>Go to <a href="#quickstart">Quick Start</a> to understand all the Gmvault capabilities.</p>
         <div class="page-header">
            <a name="linmac_install"></a><h2>Linux and Mac OSX Binary Install</h2>
			<p>Download and untar the binary tarball for Mac OSX or Linux 32bits or 64bits from the download page.</br>Untar the binary tarball distribution and go to the GMVAULT_HOME/bin dir to launch Gmvault.</p>
            <p><pre>$ wget https://github.com/downloads/gaubert/gmvault/gmvault-v1.0-beta-MacOSX.tar.gz
$ tar zxvf gmvault-v1.0-beta-MacOSX.tar.gz
$ cd gmvault-v1.0-beta/bin</pre></p>
		 </div>
         <div class="page-header">
            <a name="py_install"></a><h2>Python Installation for MacOSX and Linux</h2>
			<p>It is also possible to install Gmvault using the standard Python package installation method from Pypi.<br/>
               You would need to have the <a href="http://bit.ly/easy_install">setup tools</a> or <a href="http://www.pip-installer.org/en/latest/index.html">pip</a> installed in your Python distribution.
               I would also recommend using gmvault in a <a href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> isolated sandbox.<br/>
               Below is described an installation under a virtualenv sandbox. 
            </p>
            <p><pre>$ virtualenv --no-site-packages gmvault-1.0-beta
New python executable in gmvault-1.0-beta/bin/python
Installing setuptools............done.
$ cd gmvault-1.0-beta/bin
$./pip install gmvault
Downloading/unpacking gmvault
  Downloading gmvault-1.0-beta.tar.gz (47Kb): 47Kb downloaded
  Running setup.py egg_info for package gmvault

Downloading/unpacking Logbook==0.3 (from gmvault)
  Downloading Logbook-0.3.tar.gz (89Kb): 89Kb downloaded
  Running setup.py egg_info for package Logbook

Downloading/unpacking IMAPClient==0.8.1 (from gmvault)
  Downloading IMAPClient-0.8.1.zip (107Kb): 107Kb downloaded
  Running setup.py egg_info for package IMAPClient
    Downloading http://pypi.python.org/packages/source/d/distribute/distribute-0.6.24.tar.gz
    Extracting in /tmp/tmp2kCczm
    Now working in /tmp/tmp2kCczm/distribute-0.6.24
    Building a Distribute egg in /tmp/gmvault-1.0-beta/build/IMAPClient
    warning: no files found matching 'Makefile' under directory 'docs'
    warning: no files found matching 'indexsidebar.html' under directory 'docs'
    /tmp/gmvault-1.0-beta/build/IMAPClient/distribute-0.6.24-py2.7.egg

    no previously-included directories found matching 'doc/doctrees'
Downloading/unpacking gdata==2.0.17 (from gmvault)
  Downloading gdata-2.0.17.tar.gz (2.4Mb): 2.4Mb downloaded
  Running setup.py egg_info for package gdata

Installing collected packages: gdata, gmvault, IMAPClient, Logbook
  Running setup.py install for gdata

  Running setup.py install for gmvault
    changing mode of build/scripts-2.7/gmvault from 644 to 755

    changing mode of /tmp/gmvault-1.0-beta/bin/gmvault to 755
  Running setup.py install for IMAPClient

    no previously-included directories found matching 'doc/doctrees'
  Running setup.py install for Logbook
    building 'logbook._speedups' extension
    gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/homespace/gaubert/python2.7/include/python2.7 -c logbook/_speedups.c -o build/temp.linux-i686-2.7/logbook/_speedups.o
    gcc -pthread -shared build/temp.linux-i686-2.7/logbook/_speedups.o -o build/lib.linux-i686-2.7/logbook/_speedups.so

Successfully installed gdata gmvault IMAPClient Logbook
Cleaning up...
$
</pre></p>
	 </div>
      </div> <!-- span10 -->

    </div> <!-- row -->
    <div class="span10">

    <div class="page-header">
       <a name="quickstart"></a><h1>Quick Start</h1>
        <p></br>Gmvault is a user friendly command-line tool that setup most of the necessary defaults to quickly sync (backup) your gmail account or restore it to a gmail account.
        </br>It should be self-explanatory. Use gmvault -h to see the different options and how the tool works.</br>
        <pre>$./gmvault -h

usage: gmvault [-h] [-v] {restore,sync} ...

optional arguments:
  -h, --help      show this help message and exit
  -v, --version   show program's version number and exit

subcommands:
  {restore,sync}  valid subcommands.
    sync          synchronize with a given gmail account.
    restore       restore gmvault-db to a given email account.

Examples:

a) Get help for each of the individual commands

#> gmvault sync -h
#> gmvault restore --help


</pre>
        </br>Gmvault is a command-oriented tool and every Gmvault call needs to contain a subcommand (sync or restore).
        </br>You will first need to setup the credential (token or password) for the different gmail accounts you want to use prior to syncing or restoring them with Gmvault.
        </br>This will allow Gmvault to automatically connect to the accounts you want to work with.
        </p>
        <h3>Authentication</h3>
        <p></br>
           To authenticate yourself and authorize Gmvault accessing your Gmail account, Gmvault allows users to use a Gmail XOAuth token or your Gmail login password.</br>
           The <strong>XOAuth</strong> authentication is the recommended way to access your account. This method is activated by default. </br>
           After the first authentication for a given account, the XOAuth token is stored in $HOME/.gmvault or %HOME% (c:\users\MYUSER) and will be used for consequent authentications.</br>
           The following example uses an XOAuth token for accessing a gmail account. If the token has not been created for the used Gmail account, Gmvault will automatically try to create one with your help.</br>
           Just follow the instructions given by Gmvault.
        </p>
    <p><pre>!$ ./gmvault sync myuser@gmail.com

Use gmvault-db /home/myuser/gmvault-db.
Oauth will be used for authentication.

gmvault will now open a web browser page in order for you to grant gmvault access to your Gmail.
Please make sure you're logged into the correct Gmail account (myuser@gmail.com) before granting access.
Press ENTER to open the browser. Once you've granted access you can switch back to gmvault.
</pre></p>
    <p>Press ENTER and Gmvault will launch a browser to allow you granting access on the gmail account you want to use.</br>
       <strong>Be sure to verify that you are logged on the right account.</strong>
   </p>
   <!-- add grant access page and second page -->
   <div class="thumbnail">
		<h5>Grant access to Gmvault.</h5>
		<img src="./assets/img/xoauth-auth-grant-access.png" alt="">
   </div>
   
   <div class="thumbnail">
		<h5>You should see this once you have granted access to Gmvault.</h5>
		<img src="./assets/img/xoauth-auth-access-granted.png" alt="">
   </div>
   <p>Once you have granted access to Gmvault, press one more time ENTER to let Gmvault finish its work.</p>
   <p><pre>You should now see the web page on your browser now.
If you don't, you can manually open:

https://www.google.com/accounts/OAuthAuthorizeToken?oauth_token=4%abdedsk-leskdkrs-QM4ZnL6tLDy

Once you've granted gmvault access, press the Enter key.</pre></br>
Below is a screenshot of a complete authentication session on Windows.</p>
 <div class="thumbnail">
		<h5>Grant access to Gmvault.</h5>
		<img src="./assets/img/full-access-granted-screenshot.png" alt="">
   </div>
<p>After that authentication session Gmvault will automatically use the XOAuth token stored under $HOME/.gmvault or %HOME% (c:\users\MYUSER) for all session with the MYUSER user.</br></p>
    <h4>Authentication with gmail password</h4>
		<p></br>If you do not want to use the Gmail XOAuth token (not recommended), you can always use Gmvault with your password.
		</br>In that case, you will have to interactively enter your password at the beginning of the Gmvault session.
		</p>
		<p><pre>$./gmvault sync myuser@gmail.com -p 

Use gmvault-db /home/myuser/gmvault-db.
Gmail password will be used for authentication.

Please enter gmail password for myuser@gmail.com and press ENTER:
Connect to Gmail server.
53432 emails to be fetched.
Process email num 0 (imap_id:1) from 2005-10.
Process email num 1 (imap_id:2) from 2005-10.
Process email num 2 (imap_id:3) from 2005-10.
Process email num 3 (imap_id:5) from 2005-10.
...</pre></p>
      <p>You can also if necessary store your password in  $HOME/.gmvault or %HOME% (c:\users\MYUSER) with <strong>--store-passwd</strong> command.
      </br>The password will be encrypted before to be stored. Note that functionnality is provided for flexibility purposes but is not recommended.
      </br>Prefer the XOAuth authentication if you need to automate Gmvault synchronisation and restoration operations.
      </p>
      <p><pre>$./gmvault sync myuser@gmail.com -p --store-passwd

Use gmvault-db /home/myuser/gmvault-db.
Gmail password will be used for authentication.

Please enter gmail password for myuser@gmail.com and press ENTER:
Store password for myuser@gmail.com in $HOME/.gmvault.
Connect to Gmail server.
53432 emails to be fetched.
Process email num 0 (imap_id:1) from 2005-10.
Process email num 1 (imap_id:2) from 2005-10.
Process email num 2 (imap_id:3) from 2005-10.
Process email num 3 (imap_id:5) from 2005-10.
...</pre>
   <p>Finally, it is also possible to renew your stored password with <strong>--renew-passwd</strong>.</p>
   <p><pre>$./gmvault sync myuser@gmail.com -p --renew-passwd

Use gmvault-db /home/myuser/gmvault-db.
Gmail password will be used for authentication.

Please enter gmail password for myuser@gmail.com and press ENTER:
Store password for myuser@gmail.com in $HOME/.gmvault.
Connect to Gmail server.
53432 emails to be fetched.
Process email num 0 (imap_id:1) from 2005-10.
Process email num 1 (imap_id:2) from 2005-10.
Process email num 2 (imap_id:3) from 2005-10.
Process email num 3 (imap_id:5) from 2005-10.
...</pre></p>
<p></br><h3>Making a backup of your Gmail account</h3>
</p>
<p>The sync command of Gmvault allow users to backup the Gmail account of their choice.
</br>use <strong>gmvault sync -h</strong> to get explanations regarding all options. Examples are also provided after the options details.
</br><pre>$./gmvault sync -h

usage: gmvault sync [-h] [-t TYPE] [-d DB_DIR] [-o] [--renew-passwd]
                    [--store-passwd] [-p] [-r REQ] [-g REQ] [-e]
                    [-z DB_CLEANING] [-m] [--server HOSTNAME] [--port PORT]
                    [--debug]
                    email

positional arguments:
  email                 email to sync with.

optional arguments:
  -h, --help            show this help message and exit
  -t TYPE, --type TYPE  type of synchronisation: full|quick|custom. (default:
                        full)
  -d DB_DIR, --db-dir DB_DIR
                        Database root directory. (default: ./gmvault-db)

... help shortened ...

  --server HOSTNAME     Gmail imap server hostname. (default: imap.gmail.com)
  --port PORT           Gmail imap server port. (default: 993)
  --debug               Activate debugging info

Examples:

a) Full synchronisation with email and oauth login in ./gmvault-db

#> gmvault sync foo.bar@gmail.com

b) Full synchronisation for German users that have to use googlemail instead of gmail

#> gmvault sync --imap-server imap.googlemail.com 'foo.bar@gmail.com'

c) Quick synchronisation (only the last 2 months are scanned)

#> gmvault sync --type quick foo.bar@gmail.com

g) Custom synchronisation with an IMAP request

#> gmvault sync --type custom --imap-req 'Since 1-Nov-2011 Before 10-Nov-2011' 'foo.bar@gmail.com'</pre>
</br>gmvault sync myuser@gmail.com will backup the entire content of your gmail account from the oldest to newest email.
</br>You will also notice that Gmvault tries to estimate how long it will take to backup your entire gmail account every 50 emails.
</br><pre>$./gmvault sync guillaume.aubert@gmail.com -p

Use gmvault-db /home/aubert/gmvault-db.
Gmail password will be used for authentication.

Please enter gmail password for guillaume.aubert@gmail.com and press ENTER:
Connect to Gmail server.
35965 emails to be fetched.
Process email num 0 (imap_id:1) from 2004-10.
Process email num 1 (imap_id:2) from 2004-10.
Process email num 2 (imap_id:3) from 2004-10.
...
Process email num 48 (imap_id:55) from 2004-10.
Process email num 49 (imap_id:56) from 2004-10.

== Processed 50 emails in 6s. 35915 left to be stored (time estimate 1h 11m 50s).==

Process email num 50 (imap_id:58) from 2004-10.
Process email num 51 (imap_id:59) from 2004-10.
Process email num 52 (imap_id:60) from 2004-10.
...
</pre>
Gmvault will list all the emails that are backed up on disk.
</br>Your emails will be stored in an email database created by default in $HOME/.gmvault-db.
</br>Use the <strong>-d</strong> or <strong>--db-dir</strong> to choose where the email database is going to be created.
</br>When you create an email database, it is automatically bonded to the email account you would like to backup.
</br>If you try to backup a Gmail account with an email database bounded with another email, Gmvault will exit in error.
<pre>$./gmvault sync gsync.mtester@gmail.com

Use gmvault-db /home/aubert/gmvault-db.
Oauth will be used for authentication.

Use oauth credentials from /home/aubert/.gmvault/gsync.mtester@gmail.com.oauth.
Successfully read oauth credentials.

Connect to Gmail server.
Error The email database /home/aubert/gmvault-db is already associated with guillaume.aubert@gmail.com. Use option X if you want to link it with gsync.mtester@gmail.com. For more information see log file

usage: gmvault [-h] [-v] {restore,sync} ...

optional arguments:
  -h, --help      show this help message and exit
  -v, --version   show program's version number and exit

subcommands:
  {restore,sync}  valid subcommands.
    sync          synchronize with a given gmail account.
    restore       restore gmvault-db to a given email account.

Examples:

a) Get help for each of the individual commands

#> gmvault sync -h
#> gmvault restore --help

$
</pre>
If you wish to backup multiple Gmail accounts in one email database, you can use the <strong>-m</strong> or <strong>--multiple-db-owner</strong> to let Gmvault allowing it.
</p>
<p></br><h3>Restoring your Gmail account</h3>
</p>

	</div> <!-- page-header -->
    <div class="span10">
      <div id="faq" class="page-header">
		  <h1>Frequently Asked Questions</h1>
	  </div>
    </div> <!-- span10 -->

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./assets/js/jquery.js"></script>
    <script src="./assets/js/bootstrap-transition.js"></script>
    <script src="./assets/js/bootstrap-alert.js"></script>
    <script src="./assets/js/bootstrap-modal.js"></script>
    <script src="./assets/js/bootstrap-dropdown.js"></script>
    <script src="./assets/js/bootstrap-scrollspy.js"></script>
    <script src="./assets/js/bootstrap-tab.js"></script>
    <script src="./assets/js/bootstrap-tooltip.js"></script>
    <script src="./assets/js/bootstrap-popover.js"></script>
    <script src="./assets/js/bootstrap-button.js"></script>
    <script src="./assets/js/bootstrap-collapse.js"></script>
    <script src="./assets/js/bootstrap-carousel.js"></script>
    <script src="./assets/js/bootstrap-typeahead.js"></script>

	<!-- google analytics for gmvault.org -->
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-31356001-1']);
	  _gaq.push(['_setDomainName', 'gmvault.org']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

    </script>

  </body>
</html>

